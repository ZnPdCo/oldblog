<div class="page-header">
    {% if page.figure %}
    <img src="{{ page.figure }}" style="width: 500px;"></img>
    {% endif %}
    <h1>{{ page.title }} {% if page.tagline %}<small>{{page.tagline}}</small>{% endif %}</h1>
</div>

<article>

    <div class="col-sm-10">
        <span class="post-date">
            {{ page.date | date: "%F" }}
        </span>
        <div class="article_body">
            {{ content }}
        </div>

        {% unless page.categories == empty %}
        <ul class="tag_box list-unstyled list-inline">
            <li><i class="fa-solid fa-folder-open"></i></li>
            {% assign categories_list = page.categories %}
            {% if categories_list.first[0] == null %}
            {% for category in categories_list %}
            <li><a href="{{ site.BASE_PATH }}/{{ site.categories_path }}#{{ category }}-ref">
                    {{ category | join: "/" }} <span>({{ site.categories[category].size }})</span>
                    {% unless forloop.last %},{% endunless %}
                </a></li>
            {% endfor %}
            {% else %}
            {% for category in categories_list %}
            <li><a href="{{ site.BASE_PATH }}/{{ site.categories_path }}#{{ category[0] }}-ref">
                    {{ category[0] | join: "/" }} <span>/{{ category[1].size }})</span>
                </a></li>
            {% endfor %}
            {% endif %}
        </ul>
        {% endunless %}

        {% unless page.tags == empty %}
        <ul class="list-inline">
            <li><i class="fa-solid fa-tags"></i></li>
            {% assign tags_list = page.tags %}
            {% if tags_list.first[0] == null %}
            {% for tag in tags_list %}
            <li>
                <a href="{{ site.BASE_PATH }}/{{ site.tags_path }}#{{ tag }}-ref">
                    {{ tag }} <span>({{ site.tags[tag].size }})</span>
                    {% unless forloop.last %},{% endunless %}
                </a>
            </li>
            {% endfor %}
            {% else %}
            {% for tag in tags_list %}
            <li>
                <a href="{{ site.BASE_PATH }}/{{ site.tags_path }}#{{ tag[0] }}-ref">
                    {{ tag[0] }} <span>({{ tag[1].size }})</span>
                    {% unless forloop.last %},{% endunless %}
                </a>
            </li>

            {% endfor %}
            {% endif %}
            {% assign tags_list = nil %}
        </ul>
        {% endunless %}

        <hr>

        <div>
            <section class="share col-sm-6">
                <h4 class="section-title">想把本文分享给你的朋友？</h4>
                <a class="btn btn-default btn-sm facebook" onclick="window.nativeShare.call()">
                    <i class="fa-solid fa-share-nodes"></i>
                    分享一下！
                </a>
            </section>

            <section class="col-sm-6 author">
                <img src="{{site.author.icon}}" style="height:35px;" class="img-rounded author-image" />
                <h4 class="section-title author-name">{{site.author.name}}</h4>
                <p class="author-bio">{{site.author.bio}}</p>
                <p>发现问题？提出疑问？<a class="btn btn-default btn-sm" href="mailto:{{ site.author.email }}"><i
                            class="fa-solid fa-envelope"></i>{{ site.author.email }}</a></p>
            </section>
        </div>

        <div class="clearfix"></div>

        <div>
            <h4 class="section-title">评论</h4>
            {% include giscus.html %}
        </div>
        
        <div class="clearfix"></div>

        <ul class="pager">
            {% if page.previous %}
            <li class="previous"><a href="{{ site.BASE_PATH }}{{ page.previous.url }}"
                    title="{{ page.previous.title }}">&larr; 上一篇</a></li>
            {% else %}
            <li class="previous disabled"><a>&larr; 上一篇</a></li>
            {% endif %}
            {% if page.next %}
            <li class="next"><a href="{{ site.BASE_PATH }}{{ page.next.url }}" title="{{ page.next.title }}">下一篇
                    &rarr;</a></li>
            {% else %}
            <li class="next disabled"><a>下一篇 &rarr;</a>
                {% endif %}
        </ul>

        <hr>
    </div>

    <div class="col-sm-2 sidebar-2">

    </div>
</article>
<div class="clearfix"></div>